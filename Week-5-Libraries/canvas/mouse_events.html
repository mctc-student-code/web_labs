<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mouse Events</title>

    <style>

        #canvas {
            border: 1px black solid;
        }

    </style>

</head>
<body>


<P>Enter a color and click the canvas</P>
<canvas id="canvas" height="400" width="400"></canvas>

<br />

<label for="color_text">Type a color</label>
<input id="color_text" type="text" maxlength="20">
<button id="choose_color">Submit</button>
<button id="clear_color">Clear</button>

<script>

    var canvas = document.getElementById("canvas");
    var context = canvas.getContext("2d");

    let submit_button = document.querySelector('#choose_color');
    let color = document.querySelector('#color_text');
    let clear_button = document.querySelector('#clear_color');


    submit_button.addEventListener("click", function(){
        let color_value = color.value;
        // event is a built-in variable, contains the event that triggered this function
        // get the x, y location of the event
        var x = event.offsetX;
        var y = event.offsetY;   //offsetX, offsetY, may not work in older browsers

        //Draw a filled rectangle centered under the mouse click
        //x, y is the top left corner, so shift up and left by 5 to center it under the mouse.


        canvas.addEventListener("click", function(){

            // event is a built-in variable, contains the event that triggered this function
            // get the x, y location of the event
            var x = event.offsetX;
            var y = event.offsetY;   //offsetX, offsetY, may not work in older browsers

            //Draw circle
            //x, y is the top left corner, so shift up and left by 5 to center it under the mouse.
            context.beginPath();
            context.arc(x-5, y-5, 50, 0, 2 * Math.PI);
            context.fillStyle = color_value;
            context.fill();
            context.closePath();
        })
    });

    clear_button.addEventListener("click", function(){
        context.clearRect(0, 0, canvas.width, canvas.height)
    })


</script>

</body>
</html>